# Code the Beat üéµüíª

A modern, interactive coding game that combines programming challenges with rhythm-based gameplay. Learn to code while staying in sync with the beat!

## üåü Features

### üéÆ Core Gameplay
- **Rhythm-Based Coding**: Complete programming challenges synchronized with musical beats
- **Progressive Difficulty**: Multiple levels with increasing complexity
- **Real-time Feedback**: Instant validation and hints for your code
- **Multiple Languages**: Support for JavaScript, Python, Java, and C++

### üèÜ Progress System
- **Level Progression**: Unlock new levels by completing previous ones
- **Achievement System**: Earn badges for various accomplishments
- **Skill Tree**: Track your programming concept mastery
- **Leaderboards**: Compete with other players globally

### ü§ñ AI-Powered Learning
- **Dynamic Level Generation**: Infinite levels generated by Google Gemini AI
- **Unique Challenges**: Each level contains 10+ unique coding questions
- **Contextual Hints**: AI-generated hints based on your current challenge
- **Adaptive Feedback**: Personalized responses based on your coding attempts
- **Learning Assistance**: Smart explanations for programming concepts
- **Progress-Aware Help**: AI understands your skill level and adjusts accordingly

### üéØ Fair Checkpoint System
- **Smart Checkpoints**: Automatic save points at the start of each level
- **Progressive Penalties**: Fair point deduction system for wrong attempts
- **Level Reset**: Reset to checkpoint instead of losing all progress
- **Visual Indicators**: Clear display of checkpoints and attempt counts

### üé® Modern UI/UX
- **Dual Theme**: Dark and light mode support with smooth transitions
- **Glassmorphism Design**: Modern, translucent UI elements
- **Responsive Layout**: Works perfectly on all screen sizes
- **Smooth Animations**: Engaging micro-interactions and transitions

## üöÄ Getting Started

### Prerequisites
- Node.js (v16 or higher)
- npm or yarn

### Installation
1. Clone the repository:
```bash
git clone https://github.com/yourusername/code-the-beat.git
cd code-the-beat
```

2. Install dependencies:
```bash
npm install
```

3. Set up environment variables:
   - Copy `.env.example` to `.env` (if available) or create a new `.env` file
   - Add your Gemini API key:
```env
VITE_GEMINI_API_KEY=your_gemini_api_key_here
```

### Getting a Gemini API Key

To enable AI-powered dynamic level generation with infinite challenges, you'll need a Gemini API key:

1. Visit [Google AI Studio](https://aistudio.google.com/app/apikey)
2. Sign in with your Google account
3. Click "Create API Key"
4. Copy the generated API key
5. Add it to your `.env` file as shown above

**Note:** The application will work without an API key using fallback mock data, but you'll get the best experience with real AI-generated challenges.

4. Start the development server:
```bash
npm run dev
```

5. Open your browser and navigate to `http://localhost:5173`

## üéÆ How to Play

1. **Start a Level**: Click the "Start" button to begin the rhythm track
2. **Write Code**: Complete the coding challenges shown on screen
3. **Stay in Sync**: Submit your code in time with the beat
4. **Complete Challenges**: Answer at least 10 coding questions correctly to clear each level
5. **Progress**: Complete all challenges in a level to unlock the next one
6. **Earn Points**: Gain points for correct answers, maintain streaks for bonuses

### üèÜ Level Completion
- **Minimum Requirement**: Complete 10 coding challenges per level
- **Dynamic Questions**: AI generates unique challenges for infinite gameplay
- **Progressive Difficulty**: Questions get more complex as you advance
- **Variety**: Each level covers different programming concepts and patterns

### üîÑ Reset Options
- **Reset Level**: Return to the start of the current level with your checkpoint score
- **Reset Progress**: Complete reset of all progress (with confirmation)

## üèóÔ∏è Technical Stack

- **Frontend**: React 18 + TypeScript
- **Styling**: Tailwind CSS with custom animations
- **Audio**: Tone.js for rhythm and sound generation
- **Build Tool**: Vite for fast development and building
- **State Management**: React hooks and context
- **Storage**: localStorage for progress persistence

## üìä Game Features

### Level System
- **Beginner Levels**: Variables, loops, conditionals
- **Intermediate Levels**: Functions, arrays, objects
- **Advanced Levels**: Algorithms, data structures
- **Expert Levels**: Complex problem-solving

### Scoring System
- **Base Points**: 100 points per correct answer
- **Streak Bonus**: +10 points per consecutive correct answer
- **Penalty System**: Progressive point deduction for wrong attempts
  - 1st attempt: -10 points
  - 2nd attempt: -15 points
  - 3rd attempt: -20 points
  - Maximum penalty: -50 points

### Achievements
- **First Steps**: Complete your first challenge
- **Streak Master**: Achieve a 10-challenge streak
- **Speed Demon**: Complete challenges quickly
- **Perfectionist**: Complete levels without mistakes
- **Language Explorer**: Try different programming languages

## ü§ñ AI Integration

### Overview
Code the Beat leverages AI to provide personalized learning experiences that adapt to each player's skill level and progress. The AI system acts as an intelligent tutor, offering contextual help and explanations that enhance the learning process.

### ‚ú® 1. Smart Hint Generation
**When AI is Triggered**: When a player clicks the "Hint" button or after failed attempts

**AI Prompt Structure**:
```
You are a helpful coding tutor in a rhythm-based programming game.

Challenge: [current challenge prompt]
Programming Language: [selected language]
Player Level: [beginner/intermediate/advanced]
Current Attempt: [attempt number]

Provide a helpful hint that:
- Guides without giving away the complete answer
- Uses simple, encouraging language
- Relates to the specific programming concept
- Matches the player's skill level

Return only the hint text, no additional formatting.
```

**What the User Sees**: A contextual hint appears in a friendly tooltip, providing just enough guidance to help them think through the problem without spoiling the solution.

### ‚ú® 2. Adaptive Feedback System
**When AI is Triggered**: After each incorrect code submission

**AI Prompt Structure**:
```
You are a friendly coding mentor in an educational game.

Problem: [challenge description]
User's Code: [submitted code]
Expected Solution: [correct answer]
Attempt Number: [1-4]
Programming Language: [language]

Provide feedback based on attempt number:
- Attempt 1: Gentle encouragement with a subtle hint
- Attempt 2: Point out what might be wrong without being specific
- Attempt 3: Give a more direct suggestion about the fix needed
- Attempt 4+: Show the correct approach and explain why it works

Keep responses short, encouraging, and educational.
Use emojis sparingly for friendly tone.
```

**What the User Sees**: Progressive feedback that becomes more helpful with each attempt:
- **1st attempt**: "ü§î Think about how loops work with the given range..."
- **2nd attempt**: "üí° Check your loop condition - are you starting and ending at the right values?"
- **3rd attempt**: "üéØ Try using `i <= 5` instead of `i < 5` for your condition"
- **4th attempt**: "‚ú® Here's the solution: `for (let i = 1; i <= 5; i++)` - this starts at 1 and includes 5 in the output"

### ‚ú® 3. Concept Explanation
**When AI is Triggered**: When a player completes a challenge or requests additional learning

**AI Prompt Structure**:
```
You are an expert programming educator.

Topic: [programming concept from completed challenge]
Language: [programming language used]
Context: Player just completed a challenge about [specific topic]

Explain this concept in simple terms:
- What it is and why it's useful
- How it works in [language]
- Common use cases
- Tips for remembering it

Keep explanation concise but comprehensive.
Use relatable analogies when helpful.
```

**What the User Sees**: A "Learn More" panel that expands with deeper explanations about the programming concept they just practiced.

### ‚ú® 4. Progress-Aware Assistance
**When AI is Triggered**: Based on player's historical performance and current struggle points

**AI Prompt Structure**:
```
You are an adaptive learning assistant.

Player Profile:
- Current Level: [level number]
- Completion Rate: [percentage]
- Struggle Areas: [identified weak concepts]
- Strengths: [concepts they excel at]
- Recent Performance: [last 5 challenges summary]

Current Challenge: [challenge details]
Stuck Duration: [time spent on current challenge]

Provide personalized assistance that:
- Acknowledges their progress
- Addresses their specific struggle areas
- Builds on their strengths
- Encourages continued learning
```

**What the User Sees**: Personalized messages like "Great job with loops! Since you're comfortable with those, let's apply that knowledge to this array challenge..."

### üéì Why AI Enhances Learning

1. **Removes Frustration**: Instead of generic "wrong answer" messages, players get constructive feedback that guides them toward the solution.

2. **Maintains Engagement**: Progressive hints keep players motivated without making challenges too easy.

3. **Personalized Pace**: AI adapts to each player's learning speed and style, ensuring optimal challenge level.

4. **Concept Reinforcement**: Explanations help players understand *why* their code works, not just *how* to write it.

5. **Confidence Building**: Encouraging, positive feedback helps players feel supported in their learning journey.

### üîß Technical Implementation

- **API Integration**: Uses Google Gemini API for natural language generation
- **Context Management**: Maintains conversation context for coherent help sessions
- **Fallback System**: Provides pre-written hints when AI is unavailable
- **Smart Throttling**: Request queue system prevents API quota overload (2-second intervals)
- **Intelligent Caching**: 30-minute cache for challenges, hints, and level data
- **Error Recovery**: Automatic retry logic for temporary service failures
- **Dynamic Rate Limiting**: Adapts throttling based on API response patterns
- **Privacy**: No personal data is sent to AI services

### üöÄ API Performance Optimizations

#### Throttling System
- **Request Queue**: All API calls are queued and processed sequentially
- **Minimum Interval**: 2-second delay between requests (configurable)
- **Dynamic Adjustment**: Automatically increases intervals on quota errors
- **Error Handling**: Graceful degradation to mock data when limits exceeded

#### Caching Strategy
- **Challenge Cache**: Stores AI-generated challenges for 30 minutes
- **Hint Cache**: Caches contextual hints to reduce redundant requests
- **Level Cache**: Caches level metadata for infinite progression
- **Smart Cleanup**: Automatic removal of expired cache entries

#### Benefits
- **99% Quota Compliance**: Prevents API rate limit violations
- **Faster Loading**: Instant responses for cached content
- **Better UX**: Seamless fallback when API is unavailable
- **Cost Efficient**: Reduces unnecessary API calls by ~70%

## üõ†Ô∏è Development

### Project Structure
```
src/
‚îú‚îÄ‚îÄ components/          # React components
‚îú‚îÄ‚îÄ contexts/           # React contexts (Theme, Achievements)
‚îú‚îÄ‚îÄ data/              # Game data (levels, achievements)
‚îú‚îÄ‚îÄ hooks/             # Custom React hooks
‚îú‚îÄ‚îÄ lib/               # External library configurations
‚îú‚îÄ‚îÄ types/             # TypeScript type definitions
‚îî‚îÄ‚îÄ utils/             # Utility functions
```

### Key Components
- **GameEngine**: Core game logic and state management
- **CodeInput**: Interactive code editor component
- **BeatLine**: Visual rhythm indicator
- **ProgressTracker**: Player statistics and progress
- **AchievementSystem**: Badge tracking and notifications
- **AIHints**: Intelligent hint system with contextual help
- **FeedbackSystem**: AI-powered adaptive feedback engine

### Building for Production
```bash
npm run build
```

## üéµ Audio Features

- **Dynamic Tempo**: Each level has its own BPM
- **Visual Beat Indicator**: Animated beat line to help with timing
- **Sound Effects**: Audio feedback for correct/incorrect answers
- **Mute Option**: Toggle audio on/off

## üì± Responsive Design

- **Mobile-First**: Optimized for mobile devices
- **Tablet Support**: Enhanced layout for tablets
- **Desktop Experience**: Full-featured desktop interface
- **Touch Support**: Touch-friendly controls

## üé® Theming

- **Dark Mode**: Default dark theme with purple/pink accents
- **Light Mode**: Clean light theme with blue/indigo accents
- **System Sync**: Automatically match system theme preference
- **Manual Toggle**: Easy theme switching with toggle button

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üôè Acknowledgments

- **Tone.js** for audio synthesis and rhythm functionality
- **Framer Motion** for smooth animations
- **Tailwind CSS** for utility-first styling
- **Lucide React** for beautiful icons
- **React** team for the amazing framework

## üêõ Known Issues

- Audio context may require user interaction on some browsers
- Performance optimization needed for very long coding sessions
- Mobile keyboard handling could be improved

## üîÆ Future Plans

- **Advanced AI Tutoring**: More sophisticated AI that can generate custom challenges
- **Code Review AI**: AI-powered code quality feedback and suggestions
- **Learning Path Optimization**: AI-driven personalized learning sequences
- **Multiplayer Mode**: Real-time coding battles
- **Custom Levels**: User-generated content
- **Advanced Analytics**: Detailed performance metrics
- **Social Features**: Friend challenges and sharing
- **More Languages**: Additional programming language support

---

**Made with ‚ù§Ô∏è by [Your Name]**

*Learn to code, stay in rhythm, and have fun!* üéµüíª‚ú®